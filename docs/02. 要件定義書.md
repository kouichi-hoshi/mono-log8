---
title: 02. 要件定義書
source:
author:
  -
published:
created: 2025-12-09
description:
tags:
---

## アプリ名

名称: Mono Log（モノローグ）
keyなど: mono-log

## 背景・目的

- アプリ開発の学習のために制作する、シンプルなメモ/ToDoアプリ
- 既存のメモアプリやToDoアプリは機能が多く複雑なものが多いため、シンプルで軽量なアプリを目指す
- メモとToDoを別々に管理するのではなく、ひとつのタイムライン上で一元管理することで、日々の記録をストレスなく行えるようにする

## ターゲットユーザー

- 日々のメモやToDoをシンプルに記録・管理したい人
- 複雑な機能は不要で、軽快に動作するアプリを求める人
- PC・スマートフォンの両方から利用したい人

## コンセプト

- メモ+ToDoリスト
- 軽くて早い
- ストックよりもフロー
- タイムライン方式

## 要件サマリ

- PC用webブラウザ、及びスマフォ用webブラウザで利用することを前提とするwebアプリ
- ユーザーは、日々のメモとToDoを区別しすぎずに、ひとつのタイムライン上に時系列で記録・閲覧できること。
- 投稿が増えても、タイムラインをスクロールする操作がストレスなく行えること。
- メモ／ToDoの違いは、タイムライン上での絞り込み（モード切り替え）で簡単に切り替えられること。
- 不要になった投稿はすぐに完全削除せず、一度ゴミ箱に入れておき、後からまとめて整理・削除できること。
- ログイン後は、1ページ内（画面遷移なし）で「投稿の作成・編集・削除・閲覧」が完結すること。
- 認証や通信エラーが発生した場合も、ユーザーが現在の状態と次の行動を理解できるよう、適切なフィードバック（通知やダイアログ）が表示されること。

## 機能要件

### MUST（必須）

- **認証機能**
  - Googleアカウントによるログイン・ログアウトができること
  - ログイン状態に応じて画面表示が切り替わること

- **投稿管理機能**
  - 投稿の作成・編集・削除ができること
  - 投稿にモード（メモ/ToDo）を付与できること
  - 投稿一覧をタイムライン形式で表示できること
  - 無限スクロールで追加の投稿を読み込めること

- **モード絞り込み機能**
  - 「すべて」「メモ」「ToDo」で投稿一覧を絞り込めること
  - 日記モードはフェーズ2で提供する（詳細は SHOULD「日記モード」）

- **ゴミ箱機能**
  - 投稿をゴミ箱に移動できること
  - ゴミ箱内の投稿を復元できること
  - ゴミ箱内の投稿を完全削除できること
  - ゴミ箱を空にする（一括削除）ができること

- **エラーハンドリング**
  - 認証・通信エラー時に適切なフィードバックを表示すること

### SHOULD（推奨）

- **日記モード（フェーズ2で提供）**
  - 日記モードは初期設定ではoff（非表示）で、ユーザーアイコンのポップオーバーからon/offを切り替えられること
  - 日記モードが有効な場合、「すべて」「メモ」「ToDo」「日記」の4つのボタンが表示され、「すべて」は日記を含むこと
  - 日記モードが有効な場合、投稿にモード（メモ/ToDo/日記）を付与できること

### COULD（あれば望ましい）

- **タグ機能**
  - 投稿にタグを付与できること
  - タグで投稿を絞り込めること

- **外観変更**
  - ライト/ダークモードの切り替え
  - 文字サイズの変更

- **検索機能**
  - 投稿本文・モード・タグでテキスト検索できること

- **投稿エクスポート機能**
  - 投稿データをエクスポートできること

- **アカウント削除**
  - ユーザーが自身のアカウントを削除できること

- **投稿自動削除**
  - ゴミ箱投入後、一定期間経過した投稿を自動削除すること

## 非機能要件

### パフォーマンス

- 投稿一覧の初期表示が高速であること
- 無限スクロールによる追加読み込みがスムーズであること
- タイムラインのスクロール操作がストレスなく行えること

### 対応環境

- PC用Webブラウザ（Chrome, Firefox, Safari, Edge の最新版）
- スマートフォン用Webブラウザ（iOS Safari, Android Chrome の最新版）
- レスポンシブデザインに対応すること

### セキュリティ

- Google OAuth による安全な認証
- XSS・SQLインジェクション対策
- 認証・認可エラー時に内部情報を漏洩しないこと

### 可用性・運用

- Vercel + Neon によるホスティング
- Neon の自動スナップショットによるバックアップ

### 開発・テスト方針

- 日常の開発ではスタブ認証・スタブCRUDを用いて UI／ロジックを素早く検証する
- 本番と同等の構成（Auth.js + 本番想定DB）での統合テスト・E2Eテストを、専用の test / stg 環境で実施し、認証および CRUD の正常系・異常系を確認する

## 受け入れ条件

### 認証機能

- Googleアカウントでログインできる
- ログアウトできる
- 未ログイン時にウェルカムメッセージとログインボタンが表示される
- ログイン中に投稿エディタと投稿一覧が表示される

### 投稿管理機能

- 新規投稿を作成できる
- 投稿にモード（メモ/ToDo）を設定できる
- 既存投稿を編集できる
- 投稿をゴミ箱に移動できる
- 投稿一覧が更新日時の降順で表示される
- 無限スクロールで追加の投稿を読み込める

### モード絞り込み機能

- 「すべて」で全投稿が表示される
- 「メモ」でメモモードの投稿のみ表示される
- 「ToDo」でToDoモードの投稿のみ表示される

### 日記モード（フェーズ2で提供）

- 日記モードの表示/非表示設定はユーザーアイコンのポップオーバーから切り替えられること
- 日記モードが有効な場合、「すべて」で全投稿が表示される（日記も含む）
- 日記モードが有効な場合、「日記」で日記モードの投稿のみ表示される
- 日記モードが有効な場合、日記モードを選択して新規投稿を作成できる

### ゴミ箱機能

- ゴミ箱内の投稿一覧が表示される
- ゴミ箱内の投稿を復元できる
- ゴミ箱内の投稿を個別に完全削除できる
- ゴミ箱を空にできる（一括削除）
- 削除前に確認ダイアログが表示される

### エラーハンドリング

- 認証エラー時に適切なメッセージが表示される
- 通信エラー時に適切なメッセージが表示される
- 操作エラー時（バリデーションエラー、サーバーエラーなど）に適切なメッセージが表示される
- 操作成功時にフィードバックメッセージが表示される

## 将来機能一覧

以下は現時点ではスコープ外とし、将来的に検討する機能：

- アカウント削除
  - ユーザーデータの削除とセッション終了を行い、「アカウントが削除されました（またのご利用をお待ちしております）」といったメッセージとトップページへのリンクを表示する
- タグ機能（フェーズ2で実装予定）
  - 投稿保存時にタグ情報を紐づける
  - タグの初期値は null
  - ユーザーがタグの追加／削除／ラベル編集を行える
- 外観変更（フェーズ3で実装予定）
  - システム設定／ライト／ダークの外観切り替え
  - 文字サイズ変更
- 投稿エクスポート機能
  - 投稿の追加・削除・ラベル変更を含めたエクスポート手段を検討する（詳細は今後検討）
- カスタムタグ機能
  - ユーザーが任意のタグを追加・編集・削除できる
  - カスタムタグ削除時、そのタグが付いていた投稿は「タグ未登録」とする
  - タグ削除は破壊的操作のため、削除時に確認アラートを表示する
- 投稿自動削除
  - ゴミ箱投入日から一定日数が経過した投稿を自動削除する
- 検索機能（テキスト検索）
  - 検索フィールドに文字列を入力し、検索ボタン押下で検索を実行する
  - タイトル、投稿本文、モード、タグのいずれかに検索文字列を含む投稿を一覧で表示する
