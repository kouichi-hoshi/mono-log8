---
title: 03.設計書（V2・索引）
source:
author:
  -
published:
created: 2026-01-30
description:
tags:
---

# 目的

設計書（V2）の入口（索引）。

- 見た目（レイアウト/ワイヤー）は Miro を参照元とする
- `docs/02.仕様書.md` はユーザー視点の仕様（どう動くか）の基準とする
- 本V2は実装者視点の設計（どう作るか・決定事項）を責務別に分割して管理する

## この文書で決めること

- 設計書V2の入口（どの決定がどこにあるか）を一意に示す
- V1→V2移行中の参照先を集約する

## この文書の守備範囲

- 設計内容の詳細は扱わず、参照先の案内に徹する

## 関連ドキュメント（参照先）

- 仕様（ユーザー視点）: `docs/02.仕様書.md`
- 見た目（レイアウト/ワイヤー）: Miro

補足:
- 設計書V1はアーカイブ済み（`docs/archive/2026-01-30/03.設計書.v1.md`）

# V2 章一覧（分割先）

## 基盤 / 設定 / UI基盤

- `docs/03.v2/01_基盤-方針.md`：開発・テスト方針、システム構成、対象環境の前提
- `docs/03.v2/02_設定-環境変数-PWA.md`：env/環境変数/manifest 等の実装設計
- `docs/03.v2/03_UI基盤.md`：UI基盤の方針（shadcn/tailwind/breakpoints 等。見た目の参照元は Miro）

## 状態管理 / 認証 / 投稿

- `docs/03.v2/10_URL-状態管理.md`：URLスキーム、canonical化、状態導出、URL更新規約
- `docs/03.v2/20_認証-認可-スタブ.md`：Auth.js/セッション、authorId（投稿所有者）の基準、スタブ運用ガード
- `docs/03.v2/30_投稿-編集-本文形式.md`：エディタ、本文保存形式（tiptap JSON）、`contentText`、保存/編集フロー
- `docs/03.v2/40_タグ-お気に入り.md`：タグ識別子、正規化、絞り込み条件（意味/制約）

## 取得 / ごみ箱 / エラー

- `docs/03.v2/50_取得-キャッシュ-ページング.md`：TanStack Query、クエリキー、無限スクロール、scroll復元、再試行
- `docs/03.v2/60_ごみ箱.md`：trash の一覧条件、操作（復元/削除/空にする）、UI上部IF、選択状態
- `docs/03.v2/70_エラー-通知.md`：エラー種別、UI通知、開発用シミュレーション

## DB / 品質

- `docs/03.v2/80_DBモデル.md`：DBモデル（User/Post/Tag/PostTag、インデックス）
- `docs/03.v2/90_品質-セキュリティ-テスト.md`：品質・性能、セキュリティ、テスト方針
